(this["webpackJsonpproduct-list"]=this["webpackJsonpproduct-list"]||[]).push([[5],{192:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n.n(a),c=n(83),o=n(128),i=n(1),l=n.n(i),u=n(27),s=n(73),p=n(191),m=n(78),d=n(179),b=n(93),f=n(25),h=n(155),g=n.n(h),v=n(157),E=n.n(v),O=n(181),j=n(177),x=n(36),y=n(6),w=Object(s.a)((function(e){return{root:{alignItems:"center",background:y.a.gradient,display:"flex",height:e.spacing(8),justifyContent:"space-between",padding:e.spacing(0,3),position:"fixed",top:0,width:"100%"},title:{color:"white"}}})),C=function(e){var t=e.onCreate,n=w(),a=Object(x.a)().history,o=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.c.logout(),e.next=3,a.push(y.b.LOGIN);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(m.a,{boxShadow:6,className:n.root},l.a.createElement(O.a,{variant:"h5",className:n.title},"Product CRUD"),l.a.createElement(j.a,{onClick:t},l.a.createElement(g.a,{fontSize:"large",className:n.title})),l.a.createElement(j.a,{onClick:o,edge:"end"},l.a.createElement(E.a,{fontSize:"large",className:n.title})))},k=n(185),S=n(186),N=n(187),P=n(188),F=n(189),D=n(178),L=n(158),T=n.n(L),I=n(159),B=n.n(I),W=Object(s.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-between",minWidth:e.spacing(35)},media:{height:e.spacing(18)},category:{color:"#909090",fontWeight:"bold"}}})),z=function(e){var t=e.product,n=e.onDelete,a=e.onEdit,r=t.name,c=t.description,o=t.category,i=t.price,s=W();return l.a.createElement(k.a,{className:s.root},l.a.createElement(m.a,null,l.a.createElement(S.a,{className:s.media,image:"https://images.photowall.com/products/59504/mountain-view-1.jpg?h=699&q=85",title:"Product"}),l.a.createElement(N.a,null,l.a.createElement(O.a,{gutterBottom:!0,variant:"h5",align:"right"},Number.parseFloat(i).toFixed(2)),l.a.createElement(P.a,null),l.a.createElement(O.a,{variant:"caption",className:s.category},Object(u.upperCase)(o)),l.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},r),l.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},c))),l.a.createElement(F.a,null,l.a.createElement(D.a,{color:"primary",startIcon:l.a.createElement(T.a,null),onClick:a},"Edit"),l.a.createElement(D.a,{color:"secondary",startIcon:l.a.createElement(B.a,null),onClick:n},"Delete")))},G=n(190),U=n(89),V=n(94),A=Object(s.a)((function(e){return{root:{flexGrow:1,height:"100%",padding:e.spacing(3)},numberField:"\n    input::-webkit-outer-spin-button,\n    input::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n  "}})),J=function(){var e=A();return l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{component:V.TextField,name:"name",label:"Name",variant:"outlined",type:"text",InputProps:{inputProps:{maxLength:255}}}),l.a.createElement(U.a,{component:V.TextField,name:"description",multiline:!0,rows:3,label:"Description",variant:"outlined",type:"text",InputProps:{inputProps:{maxLength:255}}}),l.a.createElement(U.a,{component:V.TextField,name:"category",label:"Category",variant:"outlined",type:"text",InputProps:{inputProps:{maxLength:255}}}),l.a.createElement(U.a,{autoComplete:"off",className:e.numberField,component:V.TextField,name:"price",label:"Price",variant:"outlined",type:"number",InputProps:{inputProps:{maxLength:18},startAdornment:l.a.createElement(G.a,{position:"start"},"$")}}))},q=n(117),R=n.n(q),$="https://product-crud-api-byebye.herokuapp.com/api",H=f.c.token,K={Authorization:"Bearer ".concat(H)},M=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R()({url:"".concat($,"/products"),method:"GET",headers:K});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R()({url:"".concat($,"/products"),data:t,method:"POST",headers:K});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R()({url:"".concat($,"/products/").concat(t),method:"DELETE",headers:K});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R()({url:"".concat($,"/products/").concat(t),data:n,method:"PUT",headers:K});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=Object(s.a)((function(e){return{root:{flexGrow:1,height:"100%",marginTop:e.spacing(8),padding:e.spacing(3)},loader:{alignItems:"center",display:"flex",height:"100vh"}}}));t.default=function(){var e=Z(),t=Object(i.useState)(!0),n=Object(o.a)(t,2),a=n[0],s=n[1],h=Object(i.useState)(!1),g=Object(o.a)(h,2),v=g[0],E=g[1],O=Object(i.useState)(!0),j=Object(o.a)(O,2),x=j[0],y=j[1],w=Object(i.useState)(),k=Object(o.a)(w,2),S=k[0],N=k[1],P=Object(i.useState)(!1),F=Object(o.a)(P,2),D=F[0],L=F[1],T=Object(i.useState)(!1),I=Object(o.a)(T,2),B=I[0],W=I[1],G=Object(i.useState)(!1),U=Object(o.a)(G,2),V=U[0],A=U[1],q=Object(i.useState)([]),R=Object(o.a)(q,2),$=R[0],H=R[1],K=Object(f.b)(Object(u.pick)(f.a,["name","description","category","price"]));Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,200===Object(u.get)(t,"status")&&(H(t.data.products),s(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]);var _=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,X(S.id);case 3:t=e.sent,200===Object(u.get)(t,"status")&&(y(!x),E(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(S.id,t);case 2:n=e.sent,200===Object(u.get)(n,"status")&&(y(!x),W(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:n=e.sent,201===Object(u.get)(n,"status")&&(y(!x),A(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){return l.a.createElement(p.a,{item:!0,xs:!0,key:e.id},l.a.createElement(z,{product:e,onEdit:function(){N(e),W(!0)},onDelete:function(){N(e),L(!0)}}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{onCreate:function(){return A(!0)}}),a?l.a.createElement(m.a,{className:e.loader},l.a.createElement(d.a,{size:60})):l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{className:e.root},l.a.createElement(p.a,{container:!0,spacing:3},Object(u.map)($,ne))),D&&l.a.createElement(b.b,{isOpen:D,loading:v,onClose:function(){return L(!1)},onConfirm:function(){return _()},title:"product",type:S.name}),B&&l.a.createElement(b.c,{initialValues:S,isOpen:B,onClose:function(){return W(!1)},onSubmit:ee,title:"Update ".concat(Object(u.get)(S,"name")),validate:K},l.a.createElement(J,null)),V&&l.a.createElement(b.c,{isOpen:V,onClose:function(){return A(!1)},onSubmit:te,title:"Create product",validate:K,actionButtonLabel:"create"},l.a.createElement(J,null))))}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return k}));var a=n(131),r=n(1),c=n.n(r),o=n(73),i=n(178),l=n(78),u=n(179),s=Object(o.a)((function(e){return{wrapper:{position:"relative"},loader:{color:"black",position:"absolute"}}})),p=function(e){var t=e.loading,n=e.disabled,r=e.children,o=e.loaderColor,p=Object(a.a)(e,["loading","disabled","children","loaderColor"]),m=s(e);return c.a.createElement(i.a,Object.assign({className:m.wrapper,disabled:n||t},p),!t&&r,t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{style:{visibility:"hidden"}},r),c.a.createElement(u.a,{className:m.loader,color:o,size:24})))},m=n(82),d=n.n(m),b=n(83),f=n(196),h=n(180),g=n(182),v=n(183),E=n(184),O=n(6),j=Object(o.a)((function(e){return{actions:{background:O.a.light,padding:e.spacing(2)}}})),x=function(e){var t=e.isOpen,n=e.onClose,a=e.onConfirm,r=e.loading,o=e.type,i=e.title,l=j();return c.a.createElement(f.a,{fullWidth:!0,maxWidth:"xs",onClose:n,open:t},c.a.createElement(h.a,null,"Delete ".concat(i)),c.a.createElement(g.a,null,c.a.createElement(v.a,null,"\xbfDo you want to remove ".concat(o,"?"),c.a.createElement("br",null),"The data cannot be recovered")),c.a.createElement(E.a,{className:l.actions},c.a.createElement(p,{onClick:n,variant:"outlined"},"Cancel"),c.a.createElement(p,{color:"secondary",loading:r,onClick:Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:n();case 3:case"end":return e.stop()}}),e)}))),variant:"contained"},"Delete")))},y=n(89),w=Object(o.a)((function(e){return{actions:{background:O.a.light,padding:e.spacing(2)},content:{display:"flex",flexDirection:"column","& >*":{marginBottom:e.spacing(2.5)}}}})),C=function(e){var t=e.onSubmit,n=e.loading,a=e.disabled,r=e.isOpen,o=e.title,i=e.children,l=e.onClose,u=e.actionButtonLabel,s=w(e);return c.a.createElement(f.a,{onClose:l,open:r,fullWidth:!0,maxWidth:"xs"},c.a.createElement(h.a,null,o),c.a.createElement(g.a,{className:s.content},i),c.a.createElement(E.a,{className:s.actions},c.a.createElement(p,{onClick:l,variant:"outlined"},"Cancel"),c.a.createElement(p,{color:"primary",type:"submit",variant:"contained",loading:n,disabled:a,onClick:t},u)))},k=function(e){var t=e.children,n=e.initialValues,a=e.isOpen,r=e.onClose,o=e.onSubmit,i=e.actionButtonLabel,l=e.title,u=e.validate;return c.a.createElement(y.b,{initialValues:n,onSubmit:o,validate:u},(function(e){var n=e.handleSubmit,o=e.pristine,u=e.submitting;return c.a.createElement(C,{loading:u,disabled:o,onSubmit:function(e){return n(e)},isOpen:a,title:l,onClose:r,actionButtonLabel:i||"Guardar"},t)}))}}}]);
//# sourceMappingURL=5.c233da40.chunk.js.map